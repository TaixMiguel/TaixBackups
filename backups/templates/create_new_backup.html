{% extends "base_generic.html" %}
{% block title %}Creación de backup{% endblock %}

{% block content %}
  <div class="w3-container w3-gray">
    <h2>{{ sw_create|yesno:"Nuevo backup,Actualizar backup" }}</h2>
  </div>

  <form class="w3-container w3-card-4 w3-white" action="" method="post" novalidate>
    {% csrf_token %}
    {% load widget_tweaks %}

    {% if form.errors %}
    <div class="w3-panel w3-red w3-display-container">
      <span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-display-topright">&times;</span>
      <p>{{ form.errors }}</p>
    </div>
    {% endif %}

    <div class="w3-row">
      <div class="w3-half w3-container">
        <p>
          <label class="w3-text-grey"><b><span class="w3-text-red" title="Campo obligatorio">*</span> Código</b></label>
          {{ form.backup_code|add_class:"input-form" }}
        <p>
      </div>
    </div>

    <div class="w3-row">
      <div class="w3-container">
        <p>
          <label class="w3-text-grey"><b>Descripción</b></label>
          {{ form.description|add_class:"input-form" }}
        <p>
      </div>
    </div>

    <div class="w3-row">
      <div class="w3-container">
        <p>
          <label class="w3-text-grey"><b><span class="w3-text-red" title="Campo obligatorio">*</span> Directorio a copiar</b></label>
          {{ form.source_dir|add_class:"input-form" }}
        <p>
      </div>
      <div class="w3-container">
        <p>
          <label class="w3-text-grey"><b><span class="w3-text-red" title="Campo obligatorio">*</span> Directorio destino</b></label>
          {{ form.destination_dir|add_class:"input-form" }}
        <p>
      </div>
    </div>

    <div class="w3-row">
      <div class="w3-half w3-container">
        <p>
          <label class="w3-text-grey"><b><span class="w3-text-red" title="Campo obligatorio">*</span> Servidor</b></label>
          {{ form.storage_service|add_class:"w3-select w3-border" }}
        <p>
      </div>
    </div>

    <div class="w3-row">
      <div class="w3-half w3-container">
        <p>
          <label class="w3-text-grey"><b>Usuario del servidor</b></label>
          {{ form.user|add_class:"input-form" }}
        <p>
      </div>
      <div class="w3-half w3-container">
        <p>
          <label class="w3-text-grey"><b>Contraseña del servidor</b></label>
          {{ form.password|add_class:"input-form" }}
        <p>
      </div>
    </div>

    <div class="w3-row">
      <div class="w3-half w3-container">
        <p>
          <label class="w3-text-grey"><b><span class="w3-text-red" title="Campo obligatorio">*</span> Nº de backups</b></label>
          {{ form.num_backups|add_class:"input-form" }}
        <p>
      </div>
      <div class="w3-half w3-container">
        <p>
          <br />
          {{ form.sensor_mqtt|add_class:"w3-check" }}
          <label class="w3-text-grey" for="id_sensor_mqtt"><b>Sensor MQTT</b></label>
        <p>
      </div>
    </div>

    <input class="w3-button w3-block w3-section w3-dark-grey w3-ripple w3-padding" type="submit" value="{{ sw_create|yesno:"Crear backup,Actualizar backup" }}" />
  </form>
{% endblock %}